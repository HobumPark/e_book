<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <link rel= "stylesheet" type="text/css" href="../css/book.css">
    
    <title>ì±…</title>
    <script src="../js/jquery.min.js"></script>
    <script src="../js/turn.min.js"></script>
    <script type="text/javascript">

    $(document).ready(function(){

        $("#book").turn({
        when: {
                turned: function (event, page, view) {
                    data_load("showpen.json")
                    
                }
            }
        });

    })

    function data_load(file){

        $.getJSON(`./data/${file}`, function(data){
            console.log(data); 
            contents1Display(data.contents1)
            contents2Display(data.contents2)
            //contents3Display(data.contents3)
            //
        }).fail(function(){
            console.log("An error has occurred.");
        });
    }

    function contents1Display(data){
        //page1
        const page_title=data.title
        console.log(page_title)

        $("#page1-inner>h1").text(page_title)
        const page1=data.contents.page1;
        var full_string="";
        for(var i=0; i< page1.length; i++){
            console.log(page1[i])
            full_string += page1[i]+"<br>"
        }
        $("#page1-inner>#contents").html(full_string)
        //page2
        const page2=data.contents.page2;
        var full_string="";
        for(var i=0; i< page2.length; i++){
            console.log(page2[i])
            full_string += page2[i]+"<br>"
        }
        $("#page2-inner>#contents").html(full_string)
      
    }

    function contents2Display(data){
        //page3
        const page_title=data.title
        console.log(page_title)

        $("#page3-inner>h1").text(page_title)
        const page3=data.contents.page3;
        var full_string="";
        for(var i=0; i< page3.length; i++){
            console.log(page3[i])
            full_string += page3[i]+"<br>"
        }
        $("#page3-inner>#contents").html(full_string)
        //page4
        const page4=data.contents.page4;
        var full_string="";
        for(var i=0; i< page4.length; i++){
            console.log(page4[i])
            full_string += page4[i]+"<br>"
        }
        $("#page4-inner>#contents").html(full_string)
      
    }
        
    </script>
</head>
<body>
    <div id="book">
        <div>
            <img src="../images/showpen.jpg"/>
        </div>
        <div id="page1">
            <span id="page1-inner">
                <h1 id="title"></h1>
                <span id="contents"></span>
            </span>
        </div>
        <div id="page2">
            <span id="page2-inner">
                <h1 id="title"></h1>
                <span id="contents"></span>
            </span>
        </div>
        <div id="page3">
            <span id="page3-inner">
                <h1 id="title"></h1>
                <span id="contents"></span>
            </span>
        </div>
        <div id="page4">
            <span id="page4-inner">
                <h1 id="title"></h1>
                <span id="contents"></span>
            </span>
        </div>
        <div id="page5">
            <span id="page5-inner">
                <h1 id="title"></h1>
                <span id="contents"></span>
            </span>
        </div>
    </div>
</body>

</html>
